<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MindfulTask Pro ‚Äî My Tasks</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #047857;
      --bg-body: #F3F4F6;
      --surface: #FFFFFF;
      --text-main: #111827;
      --border: #E5E7EB;
      --sidebar-width: 260px;
    }
    * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
    
    body { margin: 0; font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-body); color: var(--text-main); height: 100vh; overflow: hidden; }

    /* LAYOUT */
    .app-layout { display: grid; grid-template-columns: var(--sidebar-width) 1fr; height: 100vh; max-width: 1920px; margin: 0 auto; transition: all 0.3s ease; }

    /* SIDEBAR */
    .sidebar { background: var(--surface); border-right: 1px solid var(--border); padding: 30px; display: flex; flex-direction: column; z-index: 50; transition: transform 0.3s ease; }
    .logo { font-size: 22px; font-weight: 800; color: var(--primary); margin-bottom: 40px; display: flex; align-items: center; gap: 8px; }
    .nav-item { padding: 12px 16px; margin-bottom: 8px; color: #64748b; font-weight: 600; font-size: 14px; border-radius: 12px; text-decoration: none; display: block; transition: 0.2s; }
    .nav-item:hover { background: #F9FAFB; color: var(--text-main); }
    .nav-item.active { background: #ECFDF5; color: var(--primary); }

    /* CONTENT */
    .main-content { padding: 40px; overflow-y: auto; height: 100vh; }
    .header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 10px; }
    h1 { margin: 0; font-size: 28px; }

    /* FILTERS */
    .filter-bar { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 5px; }
    .filter-btn { background: white; border: 1px solid var(--border); padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: 600; color: #64748b; white-space: nowrap; }
    .filter-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

    /* TASK CARDS */
    .task-card { background: white; border-radius: 16px; padding: 20px; margin-bottom: 12px; display: flex; align-items: center; gap: 16px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); transition: 0.2s; border: 1px solid transparent; }
    .task-check { width: 20px; height: 20px; accent-color: var(--primary); cursor: pointer; flex-shrink: 0; }
    .task-info { flex: 1; min-width: 0; } /* min-width 0 prevents flex overflow */
    .task-text { font-size: 16px; font-weight: 500; margin-bottom: 4px; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .task-meta { font-size: 12px; color: #94a3b8; }
    .task-status { font-size: 11px; padding: 4px 8px; border-radius: 6px; font-weight: 700; text-transform: uppercase; white-space: nowrap; }
    .status-pending { background: #fee2e2; color: #ef4444; }
    .status-done { background: #dcfce7; color: #166534; }
    .btn-delete { background: none; border: none; color: #ef4444; cursor: pointer; opacity: 0.5; font-size: 18px; padding: 5px; }

    /* MOBILE ELEMENTS */
    .mobile-header { display: none; justify-content: space-between; align-items: center; padding: 15px 20px; background: var(--surface); border-bottom: 1px solid var(--border); position: fixed; top: 0; left: 0; right: 0; z-index: 40; }
    .menu-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--text-main); }
    .overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); z-index: 45; display: none; backdrop-filter: blur(4px); }
    .overlay.active { display: block; }

    /* RESPONSIVE */
    @media (max-width: 900px) {
      body { overflow: auto; }
      .app-layout { display: block; padding-top: 60px; height: auto; }
      .mobile-header { display: flex; }
      .sidebar { position: fixed; top: 0; left: 0; bottom: 0; width: 260px; transform: translateX(-100%); box-shadow: 20px 0 50px rgba(0,0,0,0.1); }
      .sidebar.open { transform: translateX(0); }
      .main-content { padding: 20px; height: auto; }
      .task-text { white-space: normal; } /* Allow wrapping on mobile */
      .task-card { align-items: flex-start; }
      .task-check { margin-top: 4px; }
      .task-status { display: none; } /* Hide status text on very small screens if needed, or keep it */
    }
  </style>
</head>
<body>

  <div class="mobile-header">
    <div style="font-weight: 800; color: var(--primary); font-size: 18px;">üçÉ MindfulTask</div>
    <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
  </div>
  <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

  <div class="app-layout">
    <aside class="sidebar" id="sidebar">
      <div class="logo">üçÉ MindfulTask</div>
      <a href="mindfultask_pro.html" class="nav-item">üìä Dashboard</a>
      <a href="calendar.html" class="nav-item">üìÖ Schedule</a>
      <a href="#" class="nav-item active">‚úÖ My Tasks</a>
      <a href="settings.html" class="nav-item">‚öôÔ∏è Settings</a>
    </aside>

    <main class="main-content">
      <div class="header-row">
        <h1>Task Manager</h1>
        <button onclick="clearCompleted()" style="color:#64748b; background:none; border:none; cursor:pointer; font-weight:600;">Clear Completed</button>
      </div>

      <div class="filter-bar">
        <button class="filter-btn active" onclick="filterTasks('all')">All Tasks</button>
        <button class="filter-btn" onclick="filterTasks('pending')">Pending</button>
        <button class="filter-btn" onclick="filterTasks('completed')">Completed</button>
      </div>

      <div id="fullTaskList"></div>
    </main>
  </div>

  <script>
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('open');
      document.getElementById('overlay').classList.toggle('active');
    }

    let tasks = [];
    let currentFilter = 'all';

    function init() {
      try { tasks = JSON.parse(localStorage.getItem('mt_tasks') || '[]'); } catch(e) {}
      render();
    }

    function filterTasks(type) {
      currentFilter = type;
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      render();
    }

    function render() {
      const container = document.getElementById('fullTaskList');
      let filtered = tasks;
      if (currentFilter === 'pending') filtered = tasks.filter(t => !t.completed);
      if (currentFilter === 'completed') filtered = tasks.filter(t => t.completed);

      if (filtered.length === 0) {
        container.innerHTML = `<div style="text-align:center; padding:40px; color:#94a3b8;">No tasks found.</div>`;
        return;
      }

      container.innerHTML = filtered.map(t => `
        <div class="task-card" style="opacity: ${t.completed ? 0.6 : 1}">
          <input type="checkbox" class="task-check" ${t.completed ? 'checked' : ''} onchange="toggle(${t.id})">
          <div class="task-info">
            <span class="task-text" style="text-decoration: ${t.completed ? 'line-through' : 'none'}">${t.text}</span>
            <span class="task-meta">Added: ${new Date(t.id).toLocaleDateString()}</span>
          </div>
          <span class="task-status ${t.completed ? 'status-done' : 'status-pending'}">
            ${t.completed ? 'Done' : 'ToDo'}
          </span>
          <button class="btn-delete" onclick="remove(${t.id})">√ó</button>
        </div>
      `).join('');
    }

    function toggle(id) { const t = tasks.find(x => x.id === id); if (t) t.completed = !t.completed; save(); render(); }
    function remove(id) { if(confirm('Delete this task?')) { tasks = tasks.filter(x => x.id !== id); save(); render(); }}
    function clearCompleted() { if(confirm('Remove all completed?')) { tasks = tasks.filter(t => !t.completed); save(); render(); }}
    function save() { localStorage.setItem('mt_tasks', JSON.stringify(tasks)); }

    window.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>