<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MindfulTask Pro ‚Äî Calendar</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #047857;
      --bg-body: #F3F4F6;
      --surface: #FFFFFF;
      --text-main: #111827;
      --border: #E5E7EB;
      --sidebar-width: 260px;
    }

    * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
    body { margin: 0; font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-body); color: var(--text-main); height: 100vh; overflow: hidden; }

    .app-layout { display: grid; grid-template-columns: var(--sidebar-width) 1fr; height: 100vh; max-width: 1920px; margin: 0 auto; transition: all 0.3s ease; }

    /* SIDEBAR */
    .sidebar { background: var(--surface); border-right: 1px solid var(--border); padding: 30px; display: flex; flex-direction: column; z-index: 50; transition: transform 0.3s ease; }
    .logo { font-size: 22px; font-weight: 800; color: var(--primary); margin-bottom: 40px; display: flex; align-items: center; gap: 8px; }
    .nav-item { padding: 12px 16px; margin-bottom: 8px; color: #64748b; font-weight: 600; font-size: 14px; border-radius: 12px; text-decoration: none; display: block; }
    .nav-item:hover { background: #F9FAFB; color: var(--text-main); }
    .nav-item.active { background: #ECFDF5; color: var(--primary); }

    /* MAIN CONTENT */
    .main-content { padding: 30px; overflow-y: auto; display: flex; flex-direction: column; height: 100%; }

    .cal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
    .month-title { font-size: 28px; font-weight: 800; color: var(--text-main); }
    .btn-primary { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 10px; font-weight: 600; cursor: pointer; }

    /* CALENDAR GRID */
    .calendar-wrapper { background: var(--surface); border-radius: 24px; border: 1px solid var(--border); flex: 1; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
    
    .days-header { display: grid; grid-template-columns: repeat(7, 1fr); border-bottom: 1px solid var(--border); background: #F9FAFB; }
    .day-label { padding: 16px; text-align: center; font-weight: 700; font-size: 12px; color: #64748b; text-transform: uppercase; }

    .days-grid { display: grid; grid-template-columns: repeat(7, 1fr); grid-auto-rows: 1fr; flex: 1; overflow-y: auto; }
    .day-cell { border-right: 1px solid var(--border); border-bottom: 1px solid var(--border); padding: 12px; min-height: 120px; position: relative; }
    .day-number { font-weight: 600; font-size: 14px; margin-bottom: 8px; color: #64748b; }
    .today { background: #ECFDF5; }
    .today .day-number { color: var(--primary); background: white; padding: 4px 8px; border-radius: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); display: inline-block; }

    .task-chip { 
        background: white; border-left: 3px solid var(--primary); padding: 6px 8px; 
        border-radius: 4px; font-size: 12px; margin-bottom: 4px; 
        box-shadow: 0 2px 4px rgba(0,0,0,0.03); cursor: pointer;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis; 
    }

    /* MOBILE HEADER & RESPONSIVE */
    .mobile-header { display: none; justify-content: space-between; align-items: center; padding: 15px 20px; background: var(--surface); border-bottom: 1px solid var(--border); position: fixed; top: 0; left: 0; right: 0; z-index: 40; }
    .menu-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--text-main); }
    .overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); z-index: 45; display: none; backdrop-filter: blur(4px); }
    .overlay.active { display: block; }

    @media (max-width: 900px) {
        body { overflow: auto; }
        .app-layout { display: block; padding-top: 60px; height: auto; }
        .mobile-header { display: flex; }
        .sidebar { position: fixed; top: 0; left: 0; bottom: 0; width: 260px; transform: translateX(-100%); box-shadow: 20px 0 50px rgba(0,0,0,0.1); }
        .sidebar.open { transform: translateX(0); }
        .main-content { padding: 20px; height: calc(100vh - 60px); }
        
        /* Mobile Calendar specific */
        .month-title { font-size: 20px; }
        .calendar-wrapper { overflow-x: auto; } /* Allow horizontal scroll for grid */
        .days-header, .days-grid { min-width: 600px; } /* Force width so cells don't squish */
        .day-cell { min-height: 80px; }
    }
  </style>
</head>
<body>

  <div class="mobile-header">
    <div style="font-weight: 800; color: var(--primary); font-size: 18px;">üçÉ MindfulTask</div>
    <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
  </div>
  <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

  <div class="app-layout">
    
    <aside class="sidebar" id="sidebar">
      <div class="logo">üçÉ MindfulTask</div>
      <a href="mindfultask_pro.html" class="nav-item">üìä Dashboard</a>
      <a href="#" class="nav-item active">üìÖ Schedule</a>
      <a href="tasks.html" class="nav-item">‚úÖ My Tasks</a>
      <a href="settings.html" class="nav-item">‚öôÔ∏è Settings</a>
    </aside>

    <main class="main-content">
      <div class="cal-header">
        <div>
          <div class="month-title" id="monthDisplay">December 2025</div>
          <div style="color: #64748b; font-size: 14px;">Synchronized Schedule</div>
        </div>
        <button class="btn-primary" onclick="alert('Syncing...')">üîÑ Sync</button>
      </div>

      <div class="calendar-wrapper">
        <div class="days-header">
          <div class="day-label">Mon</div><div class="day-label">Tue</div><div class="day-label">Wed</div>
          <div class="day-label">Thu</div><div class="day-label">Fri</div><div class="day-label">Sat</div><div class="day-label">Sun</div>
        </div>
        <div class="days-grid" id="calendarGrid"></div>
      </div>
    </main>
  </div>

  <script>
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('open');
      document.getElementById('overlay').classList.toggle('active');
    }

    function loadCalendar() {
      const grid = document.getElementById('calendarGrid');
      grid.innerHTML = '';
      const date = new Date();
      document.getElementById('monthDisplay').innerText = date.toLocaleString('default', { month: 'long', year: 'numeric' });
      const today = date.getDate();

      let tasks = [];
      try { tasks = JSON.parse(localStorage.getItem('mt_tasks') || '[]'); } catch(e) {}

      for (let i = 1; i <= 35; i++) {
        let dayNum = i <= 30 ? i : ''; 
        let isToday = (dayNum === today);
        let cellHtml = `<div class="day-cell ${isToday ? 'today' : ''}">`;
        
        if (dayNum) {
          cellHtml += `<div class="day-number">${dayNum}</div>`;
          if (isToday) {
            tasks.forEach(t => {
                if(!t.completed) cellHtml += `<div class="task-chip">${t.text}</div>`;
            });
          }
        }
        cellHtml += `</div>`;
        grid.innerHTML += cellHtml;
      }
    }
    window.addEventListener('DOMContentLoaded', loadCalendar);
  </script>
</body>
</html>